# data/regex_entities.yml
version: "3.1"

nlu:
# ============== SOLO ENTIDADES REALES ==============

# Cantidades (entidades en domain)
- regex: cantidad_descuento
  examples: |
    - (\d+(?:\.\d+)?)\s*%\s*(?:de\s*)?descuento
    - (\d+(?:\.\d+)?)\s*%\s*dto
    - descuento\s*(?:del?\s*)?(\d+(?:\.\d+)?)\s*%

- regex: cantidad_bonificacion
  examples: |
    - (\d+(?:[\.,]\d+)?)\s*%?\s*(?:de\s*)?(?:bonificación|bonificacion|bm)
    - (?:bonificación|bonificacion|bm)\s*(?:del?\s*)?(\d+(?:[\.,]\d+)?)\s*%?



- regex: cantidad_stock
  examples: |
    - (\d+)\s*unidades?
    - stock\s*limitado
    - pocas?\s*unidades?
    - últimas?\s*unidades?

# ============== COMPARADORES PARA DESCUENTO ==============

- regex: comparador_lt_descuento
  examples: |
    - (?:descuento|dto|desc)\s+(?:menor|menos|inferior)\s+(?:a|que|de)
    - (?:menor|menos|inferior)\s+(?:a|que|de)\s+\d+\s*%\s*(?:de\s*)?(?:descuento|dto|desc)
    - con\s+(?:descuento|dto|desc)\s+(?:menor|menos|inferior)

- regex: comparador_gt_descuento
  examples: |
    - (?:descuento|dto|desc)\s+(?:mayor|mas|más|superior)\s+(?:a|que|de)
    - (?:mayor|mas|más|superior)\s+(?:a|que|de)\s+\d+\s*%\s*(?:de\s*)?(?:descuento|dto|desc)
    - con\s+(?:descuento|dto|desc)\s+(?:mayor|mas|más|superior)

- regex: comparador_lte_descuento
  examples: |
    - (?:descuento|dto|desc)\s+(?:hasta|máximo|maximo|como\s+máximo|como\s+maximo)
    - (?:hasta|máximo|maximo)\s+\d+\s*%\s*(?:de\s*)?(?:descuento|dto|desc)
    - con\s+(?:descuento|dto|desc)\s+(?:hasta|máximo|maximo)

- regex: comparador_gte_descuento
  examples: |
    - (?:descuento|dto|desc)\s+(?:al\s+menos|mínimo|minimo|como\s+mínimo|como\s+minimo)
    - (?:al\s+menos|mínimo|minimo)\s+\d+\s*%\s*(?:de\s*)?(?:descuento|dto|desc)
    - con\s+(?:descuento|dto|desc)\s+(?:al\s+menos|mínimo|minimo)

# ============== COMPARADORES PARA BONIFICACIÓN (NUEVO) ==============

- regex: comparador_lt_bonificacion
  examples: |
    - (?:bonificación|bm|bonificacion|bonif)\s+(?:menor|menos|inferior)\s+(?:a|que|de)
    - (?:menor|menos|inferior)\s+(?:a|que|de)\s+\d+\s*%\s*(?:de\s*)?(?:bonificación|bonificacion|bonif)
    - con\s+(?:bonificación|bonificacion|bonif)\s+(?:menor|menos|inferior)

- regex: comparador_gt_bonificacion
  examples: |
    - (?:bonificación|bm|bonificacion|bonif)\s+(?:mayor|mas|más|superior)\s+(?:a|que|de)
    - (?:mayor|mas|más|superior)\s+(?:a|que|de)\s+\d+\s*%\s*(?:de\s*)?(?:bonificación|bonificacion|bonif)
    - con\s+(?:bonificación|bonificacion|bonif)\s+(?:mayor|mas|más|superior)

- regex: comparador_lte_bonificacion
  examples: |
    - (?:bonificación|bm|bonificacion|bonif)\s+(?:hasta|máximo|maximo|como\s+máximo|como\s+maximo)
    - (?:hasta|máximo|maximo)\s+\d+\s*%\s*(?:de\s*)?(?:bonificación|bonificacion|bonif)
    - con\s+(?:bonificación|bonificacion|bonif)\s+(?:hasta|máximo|maximo)

- regex: comparador_gte_bonificacion
  examples: |
    - (?:bonificación|bm|bonificacion|bonif)\s+(?:al\s+menos|mínimo|minimo|como\s+mínimo|como\s+minimo)
    - (?:al\s+menos|mínimo|minimo)\s+\d+\s*%\s*(?:de\s*)?(?:bonificación|bonificacion|bonif)
    - con\s+(?:bonificación|bonificacion|bonif)\s+(?:al\s+menos|mínimo|minimo)

# ============== COMPARADORES PARA PRECIO ==============

- regex: comparador_lt_precio
  examples: |
    - precio\s+(?:menor|menos|inferior)\s+(?:a|que|de)
    - (?:menor|menos|inferior)\s+(?:a|que|de)\s+(?:\$|pesos?)
    - por\s+debajo\s+de\s+(?:\$|pesos?)
    - (?:más\s+)?(?:barato|económico|accesible)

- regex: comparador_gt_precio
  examples: |
    - precio\s+(?:mayor|mas|más|superior)\s+(?:a|que|de)
    - (?:mayor|mas|más|superior)\s+(?:a|que|de)\s+(?:\$|pesos?)
    - por\s+encima\s+de\s+(?:\$|pesos?)
    - (?:más\s+)?(?:caro|costoso)

- regex: comparador_lte_precio
  examples: |
    - precio\s+(?:hasta|máximo|maximo)
    - (?:hasta|máximo|maximo)\s+(?:\$|pesos?)

- regex: comparador_gte_precio
  examples: |
    - precio\s+(?:al\s+menos|mínimo|minimo)
    - (?:al\s+menos|mínimo|minimo)\s+(?:\$|pesos?)

# ============== COMPARADORES PARA STOCK ==============

- regex: comparador_lt_stock
  examples: |
    - stock\s+(?:menor|menos|inferior)\s+(?:a|que|de)
    - (?:menor|menos|inferior)\s+(?:a|que|de)\s+\d+\s*unidades?
    - poco\s+stock
    - stock\s+bajo

- regex: comparador_gt_stock
  examples: |
    - stock\s+(?:mayor|mas|más|superior)\s+(?:a|que|de)
    - (?:mayor|mas|más|superior)\s+(?:a|que|de)\s+\d+\s*unidades?
    - mucho\s+stock
    - stock\s+amplio

- regex: comparador_lte_stock
  examples: |
    - stock\s+(?:hasta|máximo|maximo)
    - (?:hasta|máximo|maximo)\s+\d+\s*unidades?

- regex: comparador_gte_stock
  examples: |
    - stock\s+(?:al\s+menos|mínimo|minimo)
    - (?:al\s+menos|mínimo|minimo)\s+\d+\s*unidades?

# ============== COMPARADORES GENÉRICOS (FALLBACK) ==============

- regex: comparador_lt_generico
  examples: |
    - (?:menor|menos|inferior)\s+(?:a|que|de)
    - 

- regex: comparador_gt_generico
  examples: |
    - (?:mayor|mas|más|superior)\s+(?:a|que|de)
    - >

- regex: comparador_lte_generico
  examples: |
    - (?:hasta|máximo|maximo|como\s+máximo|como\s+maximo)
    - <=

- regex: comparador_gte_generico
  examples: |
    - (?:al\s+menos|mínimo|minimo|como\s+mínimo|como\s+minimo|por\s+lo\s+menos)
    - >=

# ============== PRECIOS ==============

- regex: precio
  examples: |
    - \$\s*(\d+(?:[.,]\d{3})*(?:[.,]\d{2})?)
    - (\d+(?:[.,]\d{3})*(?:[.,]\d{2})?)\s*(?:pesos?|pe|ARS|ars)
    - (\d+)\s*(?:lucas|palos|mil|k)
    - precio\s*(?:de\s*)?(\d+)

# ============== ESTADOS ==============

- regex: estado_nuevo
  examples: |
    - (?:^|\s)nuevos?(?:\s|$)
    - (?:^|\s)nueva|nuevas(?:\s|$)
    - (?:producto|artículo|articulo)s?\s+nuevos?
    - recién\s+(?:llegados?|ingresados?)
    - ingresó|ingresaron|ingreso
    - llegó|llegaron|llego

- regex: estado_poco_stock
  examples: |
    - poco\s+stock
    - stock\s+(?:bajo|limitado|reducido|escaso)
    - (?:pocas?|últimas?|ultimas?)\s+unidades?
    - por\s+agotar(?:se)?
    - quedan?\s+pocos?

- regex: estado_vence_pronto
  examples: |
    - vence(?:n)?\s+(?:pronto|próximamente|proximamente)
    - por\s+vencer
    - vencimiento\s+(?:próximo|proximo|cercano)
    - fecha\s+(?:cercana|próxima|proxima)
    - vencen?\s+(?:en|dentro\s+de)

- regex: estado_en_oferta
  examples: |
    - en\s+oferta
    - en\s+promoción|en\s+promocion
    - en\s+promo
    - (?:está|esta|están|estan)\s+(?:rebajados?|en\s+descuento)
    - con\s+(?:descuento|oferta|promoción|promocion)

# ============== DOSIS/PRESENTACIONES ==============

- regex: dosis_gramaje
  examples: |
    - (\d+(?:\.\d+)?)\s*(?:mg|gr?|g|kg)
    - (\d+)\s*(?:miligramos?|gramos?|kilogramos?)

- regex: dosis_volumen
  examples: |
    - (\d+(?:\.\d+)?)\s*(?:ml|cc|lt?|l)
    - (\d+)\s*(?:mililitros?|centímetros?\s+cúbicos?|litros?)

- regex: dosis_forma
  examples: |
    - (?:comprimidos?|tabletas?|cápsulas?|capsulas?)
    - (?:inyectable|jeringa|ampolla)
    - (?:suspensión|suspension|jarabe|gotas?)
    - (?:crema|gel|ungüento|unguento|pomada)
    - (?:polvo|granulado)

# ============== TIEMPO/FECHAS ==============

- regex: tiempo_relativo
  examples: |
    - (?:hoy|ayer|mañana)
    - (?:esta|este)\s+(?:semana|mes|año)
    - (?:última|ultimo|próxima|proximo)\s+(?:semana|mes)
    - hace\s+\d+\s+(?:días?|semanas?|meses?)
    - en\s+\d+\s+(?:días?|semanas?|meses?)

- regex: dia_semana
  examples: |
    - (?:lunes|martes|miércoles|miercoles|jueves|viernes|sábado|sabado|domingo)

# ============== ANIMALES (complemento a lookup tables) ==============

- regex: animal_perro
  examples: |
    - perros?
    - caninos?
    - cachorros?
    - lomitos?

- regex: animal_gato
  examples: |
    - gatos?
    - felinos?
    - gatitos?
    - michis?
    - mininos?