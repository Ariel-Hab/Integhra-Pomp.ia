# nlu_config.yml - Configuraci칩n OPTIMIZADA PARA ALTO VOLUMEN
# Versi칩n: 2.0 - HIGH VOLUME GENERATION

# ================================================================
# 游꿢 MAPEO DE GRUPOS DE ENTIDADES (sin cambios)
# ================================================================
entity_groups:
  # Entidades principales de b칰squeda
  producto: search_primary
  categoria: search_primary
  
  # Entidades secundarias de b칰squeda  
  proveedor: search_secondary
  ingrediente_activo: search_secondary
  
  # Filtros temporales
  fecha: temporal_filters
  dia: temporal_filters
  indicador_temporal: temporal_filters
  
  # Filtros num칠ricos y de cantidad
  cantidad_descuento: numeric_filters
  cantidad_bonificacion: numeric_filters
  cantidad_stock: numeric_filters
  dosis: numeric_filters
  
  # Filtros comparativos
  comparador: comparative_filters
  
  # Filtros de contexto
  animal: context_filters
  estado: context_filters

# ================================================================
# 丘뙖잺 CONFIGURACI칍N POR INTENT - OPTIMIZADA PARA ALTO VOLUMEN
# ================================================================
intent_settings:
  
  # === INTENTS DE B칔SQUEDA ===
  buscar_producto:
    max_examples_per_template: 12  # 拘勇 De 5 a 12
    use_entity_combinations: true
    use_templates: true
    priority_entities: 
      - producto
      - categoria
    optional_entities:
      - proveedor
      - animal
      - fecha
      - comparador
    required_entities: []
    
  buscar_oferta:
    max_examples_per_template: 10  # 拘勇 De 4 a 10
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - cantidad_descuento
      - cantidad_bonificacion
      - categoria
    optional_entities:
      - producto
      - proveedor
      - fecha
    required_entities:
      - cantidad_descuento
      - cantidad_bonificacion
    
  consultar_novedades:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true  # 拘勇 Activado para m치s variaci칩n
    use_templates: true
    priority_entities:
      - indicador_temporal
      - fecha
    optional_entities:
      - proveedor
      - categoria
    required_entities: []
    
  consultar_novedades_producto:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true  # 拘勇 Activado
    use_templates: true
    priority_entities:
      - indicador_temporal
      - producto
    optional_entities:
      - proveedor
      - fecha
    required_entities: []
    
  consultar_novedades_oferta:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true  # 拘勇 Activado
    use_templates: true
    priority_entities:
      - indicador_temporal
      - cantidad_descuento
    optional_entities:
      - categoria
      - fecha
    required_entities: []
    
  modificar_busqueda:
    max_examples_per_template: 10  # 拘勇 De 4 a 10
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - comparador
      - producto
    optional_entities:
      - fecha
      - dia
      - cantidad_descuento
    required_entities:
      - comparador
      
  # === INTENTS DE CONFIRMACI칍N ===
  afirmar:
    max_examples_per_template: 6   # 拘勇 De 2 a 6
    use_entity_combinations: true  # 拘勇 Activado
    use_templates: true
    priority_entities:
      - comparador
    optional_entities:
      - dia
      - fecha
      - estado
    required_entities: []
    
  denegar:
    max_examples_per_template: 6   # 拘勇 De 2 a 6
    use_entity_combinations: true  # 拘勇 Activado
    use_templates: true
    priority_entities:
      - comparador
    optional_entities:
      - fecha
      - dia
      - producto
    required_entities: []
    
  completar_pedido:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - producto
      - dia
    optional_entities:
      - cantidad_descuento
      - comparador
      - animal
      - dosis
    required_entities: []
    
  # === INTENTS DE CONVERSACI칍N ===
  saludo:
    max_examples_per_template: 0
    use_templates: false
    use_entity_combinations: false
    priority_entities: []
    optional_entities: []
    required_entities: []
    
  despedida:
    max_examples_per_template: 0
    use_templates: false
    use_entity_combinations: false
    priority_entities: []
    optional_entities: []
    required_entities: []
    
  agradecimiento:
    max_examples_per_template: 4   # 拘勇 De 1 a 4
    use_templates: true
    use_entity_combinations: true  # 拘勇 Activado
    priority_entities:
      - comparador
    optional_entities:
      - fecha
    required_entities: []
    
  # === INTENTS AVANZADOS ===
  price_filtering:
    max_examples_per_template: 10  # 拘勇 De 4 a 10
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - comparador
      - cantidad_stock
    optional_entities:
      - producto
      - categoria
    required_entities:
      - comparador
      
  time_filtering:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - fecha
      - comparador
    optional_entities:
      - producto
      - indicador_temporal
    required_entities:
      - fecha
      
  animal_filtering:
    max_examples_per_template: 8   # 拘勇 De 3 a 8
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - animal
      - producto
    optional_entities:
      - categoria
    required_entities:
      - animal

  # === INTENTS CON ROLES (nuevos) ===
  discount_roles:
    max_examples_per_template: 12
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - cantidad_descuento
      - producto
    optional_entities:
      - dia
      - categoria
    required_entities: []

  bonification_roles:
    max_examples_per_template: 10
    use_entity_combinations: true
    use_templates: true
    priority_entities:
      - cantidad_bonificacion
      - categoria
    optional_entities:
      - comparador
    required_entities: []

# ================================================================
# 游댢 CONFIGURACI칍N DE GENERACI칍N - OPTIMIZADA PARA ALTO VOLUMEN
# ================================================================
generation_settings:
  # Control de duplicados - M치s permisivo para generar m치s ejemplos
  avoid_duplicates: true
  max_duplicate_similarity: 0.75  # 拘勇 De 0.85 a 0.75 (m치s permisivo)
  
  # Balance de uso de entidades - M치s reutilizaci칩n permitida
  balance_entity_usage: true
  max_entity_reuse: 8             # 拘勇 De 3 a 8
  
  # L칤mites generales - SIGNIFICATIVAMENTE AUMENTADOS
  max_total_examples_per_intent: 120  # 拘勇 De 25 a 120
  min_examples_per_intent: 5          # 拘勇 De 1 a 5
  
  # Variantes de ejemplos - M치s variaciones
  include_empty_entity_variants: true
  empty_variant_probability: 0.25     # 拘勇 De 0.15 a 0.25
  
  # Selecci칩n inteligente de combinaciones
  smart_combination_selection: true
  max_entities_per_example: 5         # 拘勇 De 4 a 5
  
  # Control de calidad - M치s permisivo
  min_text_length: 8                  # 拘勇 De 10 a 8
  max_text_length: 250                # 拘勇 De 200 a 250
  
  # Configuraci칩n de contexto
  enable_contextual_selection: true
  context_validation: false           # 拘勇 Desactivado para m치s ejemplos
  
  # Logging y debug
  debug_mode: false
  log_generation_stats: true
  save_generation_report: true

# ================================================================
# 游늶 REGLAS DE CONTEXTO Y VALIDACI칍N - RELAJADAS
# ================================================================
context_rules:
  
  temporal_consistency:
    description: "Evita conflictos temporales entre entidades"
    entities:
      - fecha
      - dia  
      - indicador_temporal
    validation_type: "temporal_conflict_check"
    enabled: false  # 拘勇 Desactivado para m치s ejemplos
    
  product_category_match:
    description: "Asegura consistencia entre producto y categor칤a"
    entities:
      - producto
      - categoria
    validation_type: "semantic_consistency"
    enabled: false  # 拘勇 Desactivado
    
  discount_exclusivity:
    description: "Prefiere un tipo de descuento por ejemplo"
    entities:
      - cantidad_descuento
      - cantidad_bonificacion
    validation_type: "mutual_exclusion"
    probability_both: 0.3  # 拘勇 De 0.1 a 0.3 (m치s combinaciones)
    
  animal_product_relevance:
    description: "Valida relevancia entre animal y producto"
    entities:
      - animal
      - producto
      - categoria
    validation_type: "domain_relevance"
    enabled: false  # 拘勇 Desactivado

# ================================================================
# 游꿛 CONFIGURACI칍N DE FORMATO DE SALIDA (sin cambios)
# ================================================================
output_format:
  version: "3.1"
  
  # Formato de ejemplos simples
  simple_examples:
    prefix: "- "
    multiline: true
    
  # Formato de ejemplos con entidades
  entity_examples:
    include_confidence: false
    sort_entities_by_position: true
    
  # Configuraci칩n de sin칩nimos
  synonyms:
    include_in_output: true
    format: "multiline"
    prefix: "    - "
    
  # Orden de elementos en el archivo
  nlu_element_order:
    - synonyms
    - intents
    
  # Configuraci칩n de intents
  intent_order: "alphabetical"  # "alphabetical", "by_priority", "custom"
  
# ================================================================
# 游늵 CONFIGURACI칍N DE ESTAD칈STICAS Y REPORTING (sin cambios)
# ================================================================
reporting:
  generate_stats: true
  stats_file: "nlu_generation_stats.json"
  
  include_metrics:
    - total_examples_generated
    - examples_per_intent
    - entity_usage_distribution
    - template_coverage
    - generation_time
    - validation_results
    
  export_formats:
    - json
    - yaml
    - csv

# ================================================================
# 游댌 CONFIGURACI칍N DE DEBUGGING (sin cambios)
# ================================================================
debug:
  enabled: false
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  
  debug_sections:
    entity_loading: false
    template_processing: false
    example_generation: true
    context_validation: false
    output_formatting: false
    
  output_debug_files:
    entity_debug: "debug_entities.json"
    template_debug: "debug_templates.json"
    generation_debug: "debug_generation.json"